@using Microsoft.AspNet.Identity

@model Eventor.Models.AccountManageViewModel

<div id="infoContent" style="margin-left: 50px">
    <strong data-bind="html: Pending"></strong>

    <p style="margin-bottom: 15px">You're logged in as <strong data-bind="text: UserAccountInfo().UserName"></strong>.</p>

    <div class="row" style="width:40%">
        <p class="col-md-2">First Name: </p>
        <strong class="col-md-2" data-bind="text: UserAccountInfo().Name"></strong>
    </div>
    <div class="row" style="width:40%">
        <p class="col-md-2">Last Name: </p>
        <strong class="col-md-2" data-bind="text: UserAccountInfo().Surname"></strong>
    </div>
    <!--<div class="row" style="width:40%">
        <p class="col-md-2">Email: </p>
        <strong class="col-md-2" data-bind="text: UserAccountInfo().Email"></strong>
    </div>-->
</div>
<hr />

<div id="content">
    <div class="form_box" id="infoFormContent">
        <h1 style="font-size:larger;margin-left:50px; margin-bottom:10px"><u>User Profile Form</u></h1>
        @using (Html.BeginForm("EditAccount", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
        {
            <div>
                @Html.AntiForgeryToken()
                @if (Request.Form.AllKeys.Contains("editButton"))
                {
                    <div class="row">
                        <div class="col-md-8" style="margin-left:50px">
                            @Html.ValidationSummary()
                        </div>
                    </div>
                }
                <div class="form-group row" style="width: 50%; margin-left: 70px">
                    <label class="col-md-2">E-mail: </label>
                    <div class="col-md-4">
                        @Html.TextBoxFor(m => m.ManageUserInfoModel.UserName, new { @class = "text_input", id="UserName" })
                        @Html.ValidationMessageFor(m => m.ManageUserInfoModel.UserName)
                    </div>
                </div>
                <div class="form-group" style="width: 50%; margin-left: 70px;">
                    <label class="col-md-2">First Name: </label>
                    <div class="col-md-4">
                        @Html.TextBoxFor(m => m.ManageUserInfoModel.Name, new { @class = "text_input", id = "Name" })
                        @Html.ValidationMessageFor(m => m.ManageUserInfoModel.Name)
                    </div>
                </div>
                <div class="form-group" style="width: 50%; margin-left: 70px">
                    <label class="col-md-2">Last Name: </label>
                    <div class="col-md-4">
                        @Html.TextBoxFor(m => m.ManageUserInfoModel.Surname, new { @class = "text_input", id = "LastName" })
                        @Html.ValidationMessageFor(m => m.ManageUserInfoModel.Surname)
                    </div>
                </div>
                <!--<div class="form-group" style="width: 50%; margin-left: 70px">
                    <label class="col-md-2">E-mail: </label>
                    <div class="col-md-4">
                        @Html.TextBoxFor(m => m.ManageUserInfoModel.UserName, new { @class = "text_input", id="UserName" })
                        @Html.ValidationMessageFor(m => m.ManageUserInfoModel.UserName)
                    </div>
                </div>-->
                <br />
            </div>

            <div class="form-group row" style="margin-left: 25px">
                <button name="editButton" type="submit" value="Save User Profile" class="button green col-md-6">Save User Profile</button>
                <button name="reset_form" class="button blue col-md-6" type="reset" style="margin-left: 25px">Reset Profile Form</button>
            </div>
        }
    </div>
    <hr />
    <div class="form_box" id="infoFormContent">
        <h1 style="font-size:larger;margin-left:50px; margin-bottom:10px"><u>Change Password Form</u></h1>
        @using (Html.BeginForm("ChangePassword", "Account", FormMethod.Post, new { @class = "form-horizontal", role = "form" }))
        {
            <div>
                @Html.AntiForgeryToken()
                @if (Request.Form.AllKeys.Contains("savePasswordButton"))
                {
                    <div class="row">
                        <div class="col-md-8" style="margin-left:50px">
                            @Html.ValidationSummary()
                        </div>
                    </div>
                }

            <div class="form-group" style="width: 70%; margin-left: 70px">
                <label class="col-md-3">Old Password: </label>
                <div class="col-md-3">
                    @Html.PasswordFor(m => m.ManageUserPasswordModel.OldPassword, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.ManageUserPasswordModel.OldPassword)
                </div>
            </div>
            <div class="form-group" style="width: 70%; margin-left: 70px">
                <label class="col-md-3">New Password: </label>
                <div class="col-md-3">
                    @Html.PasswordFor(m => m.ManageUserPasswordModel.NewPassword, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.ManageUserPasswordModel.NewPassword)
                </div>
            </div>
            <div class="form-group" style="width: 70%; margin-left: 70px">
                <label class="col-md-3">Confirm Password: </label>
                <div class="col-md-3">
                    @Html.PasswordFor(m => m.ManageUserPasswordModel.ConfirmPassword, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.ManageUserPasswordModel.ConfirmPassword)
                </div>
            </div>

            <div class="form-group row" style="margin-left: 25px">
                <button name="savePasswordButton" type="submit" value="Save New Password" class="button green col-md-6">Save New Password</button>
                <button name="reset_form" class="button blue col-md-6" type="reset" style="margin-left: 25px">Reset Password Form</button>
            </div>
        </div>
        }
    </div>
</div>
<hr />